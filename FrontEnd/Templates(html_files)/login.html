<html>

<head>
    <script src="/FrontEnd/JavaScriptFiles/login.js"></script>
 <!-- meta tags -->
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
 
 <!-- include topnav styling and stylesheet -->
  <link rel="stylesheet" href="/FrontEnd/Styles(css_files)/login.css">
   <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

   <div class="topnav">
    <div class="logo"><img src="/FrontEnd/Static(images)/Library_Assistant_Logo.png" class="w3-round w3-image" 
      alt="book_logo" width="270" height="50" ><b><i> </i></b></div>
  <div class=menu>
  <nav class="navbar navbar-expand-lg p-0" style="display: block;">
 
  <!-- Other references -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400&family=Rubik&family=Titan+One&display=swap" rel="stylesheet">

          <!-- Other menu options from front page -->
         
          <a href="/FrontEnd/Templates(html_files)/home_page.html">Home</a> 
          <a href="/FrontEnd/Templates(html_files)/about_us.html">About us</a>
          <a href="/FrontEnd/Templates(html_files)/feedback.html">Contact Us</a>
 
   </div>
   </div>

    </head>

     <!-- Start of the body -->

    <body>

        <div class="title"> <h1> LOG IN </h1> </div>

        <br>
        <br>
        <br> 
         <img src="/FrontEnd/Static(images)/login_image.png" alt="welcome_image" height = 75% width=40%> 
    
        <div class="login-div">
        
        <div class="form">
            <div class ="username">
                <svg class="svg-icon" viewBox="0 0 20 20">
                    <path d="M12.075,10.812c1.358-0.853,2.242-2.507,2.242-4.037c0-2.181-1.795-4.618-4.198-4.618S5.921,4.594,5.921,6.775c0,1.53,0.884,3.185,2.242,4.037c-3.222,0.865-5.6,3.807-5.6,7.298c0,0.23,0.189,0.42,0.42,0.42h14.273c0.23,0,0.42-0.189,0.42-0.42C17.676,14.619,15.297,11.677,12.075,10.812 M6.761,6.775c0-2.162,1.773-3.778,3.358-3.778s3.359,1.616,3.359,3.778c0,2.162-1.774,3.778-3.359,3.778S6.761,8.937,6.761,6.775 M3.415,17.69c0.218-3.51,3.142-6.297,6.704-6.297c3.562,0,6.486,2.787,6.705,6.297H3.415z"></path>
                </svg>
            <label for="username2">Username:</label>
            <input type="text" id="username2" name="username2">
            </div>
            <br>
            <div class ="password">
                <svg class="svg-icon" viewBox="0 0 20 20">
                    <path d="M12.075,10.812c1.358-0.853,2.242-2.507,2.242-4.037c0-2.181-1.795-4.618-4.198-4.618S5.921,4.594,5.921,6.775c0,1.53,0.884,3.185,2.242,4.037c-3.222,0.865-5.6,3.807-5.6,7.298c0,0.23,0.189,0.42,0.42,0.42h14.273c0.23,0,0.42-0.189,0.42-0.42C17.676,14.619,15.297,11.677,12.075,10.812 M6.761,6.775c0-2.162,1.773-3.778,3.358-3.778s3.359,1.616,3.359,3.778c0,2.162-1.774,3.778-3.359,3.778S6.761,8.937,6.761,6.775 M3.415,17.69c0.218-3.51,3.142-6.297,6.704-6.297c3.562,0,6.486,2.787,6.705,6.297H3.415z"></path>
                </svg>
            <label for="password2">Password:</label>
            <input type="text" id="password2" name="password2">
            </div>
            <br>
            <button type="button" onclick="login()">Login</button>
            
            <div class = "forgot">
                <a href="/FrontEnd/Templates(html_files)/forgot_password.html"> Forgot password? </a>
            </div>
    
            <br>

            <input class="signin-btn" id="signin-btn" type="submit" name="signin-btn" value="LOGIN"/>
             
            <h6>New to Library?</h6>
            <div class = "sign-up">
                <a href="/FrontEnd/Templates(html_files)/signup.html"> <b> SIGN UP </b> </a>
            </div>

        </div>

               <!-- JavaScript -->

      <script>
       
        function login() 
        {
        //Gets user typed values:
          var username2 = document.getElementById("username2").value;
          var password2 = document.getElementById("password2").value;
          console.log(username2 + password2);
          //Generates id:
          var xhr = new XMLHttpRequest();
          //Runs the script:
          xhr.open("POST", "http://localhost:3000/loginUser", true);
          xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
          //Set payload and send in string format:
          var payload = ({ username: username2, password: password2 });
          xhr.send(JSON.stringify( payload ));
          console.log(JSON.stringify(payload));
          xhr.onreadystatechange = function() {
            //Checks the request:
            if (xhr.readyState === XMLHttpRequest.DONE) {
              //Success:
              if (xhr.status === 200) {
                console.log("Logged In");
              } else {
                //Failure:
                console.error('Failed to make POST request:', xhr.status);
              }
            };
          };
        };
  

      </script>

       <footer style="background-color: #080e36">
       <p style="color:white"> MCSSN </p>
        <!-- We can add the creator names instead-->
       </footer>

    </body>

</html>

